import{r as l,o as S,g as i,j as n,k as e,D as w,E as T,G as j,m as d,t as c,F as k,v as E,B as D,A as x}from"./index-48699524.js";import{i as F,g as P}from"./axios-instance-98f3073b.js";import{G as I,s as U}from"./API-2a418714.js";import{s as B}from"./vue3-pagination-6087cace.js";import{u as M}from"./tokenStore-a3ec96d9.js";import{r as z}from"./MagnifyingGlassIcon-c0dc9279.js";import{r as G}from"./AdjustmentsVerticalIcon-18b64a28.js";const N={class:"px-4 sm:px-6 lg:px-8 -mt-4"},$={class:"-mt-2 bg-white border-b border-gray-200",style:{position:"fixed",top:"70px",right:"0px",left:"0px"}},H={class:"lg:ml-72 px-4"},A={class:"flex justify-around items-center border-gray-300 py-4"},O={class:"flex items-center justify-between border border-gray-400 border-r-0 rounded-md shadow-sm md:w-8/12 sm:w-6/12"},q=e("option",{value:"id"},"ID",-1),J=e("option",{value:"name"},"Tên",-1),K=e("option",{value:"email"},"Email",-1),Q=[q,J,K],R={class:"flow-root mt-14"},W={class:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},X={class:"inline-block min-w-full py-2 align-middle sm:px-6 lg:px-8"},Y={class:"min-w-full divide-y divide-gray-300"},Z=e("thead",null,[e("tr",null,[e("th",{scope:"col",class:"py-4 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0"}," ID "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-4"}," Ảnh "),e("th",{scope:"col",class:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-0"}," Họ và tên "),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"}," Email "),e("th",{scope:"col",class:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900"}," Hoạt động ")])],-1),ee={class:"divide-y divide-gray-200 bg-white"},te={class:"whitespace-nowrap px-3 py-3 text-sm text-gray-500"},se={class:"text-gray-900"},oe={class:"whitespace-nowrap py-3 pl-4 pr-3 text-sm sm:pl-0"},le={class:"flex items-center"},ae={class:"h-20 w-20 flex-shrink-0"},ie=["src"],ne={class:"whitespace-nowrap px-3 py-5 text-sm text-gray-500"},re={class:"text-gray-900"},de={class:"whitespace-nowrap px-3 py-5 text-sm text-gray-500"},ce={class:"text-gray-900"},ue={class:"py-4"},me=["onClick"],pe={key:0,class:"flex justify-end mt-5"},he={key:0,class:"w-full h-full flex justify-center items-center",style:{position:"fixed",top:"0",left:"0","z-index":"110"}},xe={class:"flex justify-center items-center"},ve=e("div",{class:"bg-gray-500",style:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",opacity:"0.3"}},null,-1),_e={class:"spinner-border text-white",role:"status"},Ve={__name:"UserList",setup(fe){const v=l("id"),u=l(""),m=M(),p=l(!1),_=l([]),a=l([]),r=l([]),h=l(10),f=l(1),g=l(7);S(async()=>{m.role==1?m.onSetCurrentPage({index:1,child:0}):m.onSetCurrentPage({index:1,child:0}),await C(),b()});const y=o=>{const t=(o-1)*h.value,s=t+h.value;t<a.value.length?s<a.value.length?r.value=a.value.slice(t,s):r.value=a.value.slice(t,a.value.length):r.value=[]},C=async()=>{p.value=!0,await F.get(I).then(o=>{_.value=o.data.data}).catch(o=>{const t=o.response.data.message?o.response.data.message:"Lỗi";U(t,!0),console.error(t,o)}),p.value=!1},b=()=>{u.value.toString().toLowerCase().trim(),a.value=_.value,g.value=Math.ceil(a.value.length/h.value),y(1)},L=o=>{};return(o,t)=>(i(),n(k,null,[e("div",N,[e("div",$,[e("div",H,[e("div",A,[e("div",O,[w(e("input",{type:"text",placeholder:"Tìm kiếm ...","onUpdate:modelValue":t[0]||(t[0]=s=>u.value=s),class:"rounded-md w-full rounded-r-none border-0 px-3 py-2 text-sm focus:border-gray-50 focus:border-0"},null,512),[[T,u.value]]),w(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>v.value=s),class:"border-0 px-3 py-2 text-sm focus:outline-0"},Q,512),[[j,v.value]]),e("button",{type:"button",onClick:b,class:"inline-flex items-center rounded-md rounded-l-none bg-indigo-600 px-1 py-1 text-sm font-semibold text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},[d(c(z),{class:"h-7 w-7","aria-hidden":"true"})])])])])]),e("div",R,[e("div",W,[e("div",X,[e("table",Y,[Z,e("tbody",ee,[(i(!0),n(k,null,E(r.value,(s,V)=>(i(),n("tr",{key:V},[e("td",te,[e("div",se,x(s.customerData.id),1)]),e("td",oe,[e("div",le,[e("div",ae,[e("img",{class:"h-18 w-20 rounded-full",src:s.customerData.picture,alt:""},null,8,ie)])])]),e("td",ne,[e("div",re,x(s.customerData.name),1)]),e("td",de,[e("div",ce,x(s.customerData.email),1)]),e("td",ue,[e("button",{class:"hover:text-indigo-900 ml-10",onClick:ge=>L(s.userId)},[d(c(G),{class:"h-5 w-5","aria-hidden":"true"})],8,me)])]))),128))])])])])]),a.value.length>7?(i(),n("nav",pe,[d(c(B),{modelValue:f.value,"onUpdate:modelValue":[t[2]||(t[2]=s=>f.value=s),y],pages:g.value,"range-size":1,"active-color":"#DCEDFF"},null,8,["modelValue","pages"])])):D("",!0)]),p.value?(i(),n("div",he,[e("div",xe,[ve,e("div",_e,[d(c(P),{color:"blue",size:"12",class:"lg:ml-64 mt-10"})])])])):D("",!0)],64))}};export{Ve as default};
